---
import fs from "node:fs";
import RaceLayout from "../../layouts/raceLayout.astro";
import "../../styles/style.css"

export async function getStaticPaths() {
    const paths = fs.readdirSync('../../../data/races/*.json')
    return paths.map(name => { params: {slug: name} });
};

let response = await import(`../../../data/races/${Astro.params.slug}.json`).then((res) => res.default);
let data = await response;
---
<RaceLayout data={data}/>
