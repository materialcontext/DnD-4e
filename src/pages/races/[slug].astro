---
import getDataFile from "../../utils/getDataFile.js";
import getFileNames from "../../utils/getFileNames.js";
import RaceLayout from "../../layouts/raceLayout.astro";
import "../../styles/style.css"

export async function getStaticPaths() {
    let paths = getFileNames("races");
    return paths.map((path) => {
        return { params: { slug: path } };
    });
};

let data = JSON.parse(getDataFile('races', Astro.params.slug));
---
<RaceLayout data={data}/>
